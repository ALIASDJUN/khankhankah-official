<!DOCTYPE html>
<html lang="mn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Khan Bank - Финализаци амжилттай</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
    font-family:'Inter','Segoe UI',system-ui,-apple-system,sans-serif;
    background:linear-gradient(135deg,#065f46 0%,#059669 50%,#10b981 100%);
    min-height:100vh;display:flex;justify-content:center;align-items:center;
    padding:20px;overflow-x:hidden;
}
.loading-screen{
    position:fixed;top:0;left:0;width:100%;height:100%;
    background:linear-gradient(135deg,#065f46 0%,#059669 50%,#10b981 100%);
    display:flex;flex-direction:column;justify-content:center;align-items:center;
    z-index:9999;transition:opacity 0.6s ease,visibility 0.6s ease;
}
.loading-screen.hidden{opacity:0;visibility:hidden;}
.loading-logo{
    font-size:80px;color:white;margin-bottom:30px;
    animation:pulse 1.5s ease-in-out infinite;
}
@keyframes pulse{0%,100%{transform:scale(1);opacity:1;}50%{transform:scale(1.1);opacity:0.8;}}
.loading-spinner{
    width:60px;height:60px;border:6px solid rgba(255,255,255,0.3);
    border-top-color:white;border-radius:50%;
    animation:spin 1s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg);}}
.loading-text{color:white;font-size:18px;margin-top:20px;font-weight:600;}
.container{
    background:white;border-radius:24px;
    box-shadow:0 25px 70px rgba(0,0,0,0.35);
    max-width:800px;width:100%;overflow:hidden;
    animation:slideIn 0.8s cubic-bezier(0.16,1,0.3,1);
}
@keyframes slideIn{from{opacity:0;transform:translateY(-50px)scale(0.92);}to{opacity:1;transform:translateY(0)scale(1);}}
.navbar{
    background:linear-gradient(135deg,#059669 0%,#10b981 100%);
    padding:24px 35px;color:white;
    display:flex;justify-content:space-between;align-items:center;
    border-radius:24px 24px 0 0;
    box-shadow:0 4px 15px rgba(5,150,105,0.3);
}
.navbar-brand{display:flex;align-items:center;gap:12px;font-weight:700;font-size:20px;}
.navbar-brand i{font-size:28px;}
.navbar-status{
    display:flex;align-items:center;gap:8px;
    background:rgba(255,255,255,0.25);
    padding:10px 18px;border-radius:30px;
    font-size:14px;font-weight:600;
    backdrop-filter:blur(10px);
}
.content{padding:45px;animation:fadeIn 0.8s ease 0.3s both;}
@keyframes fadeIn{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
.success-badge{
    display:inline-flex;align-items:center;gap:12px;
    background:linear-gradient(135deg,#ecfdf5 0%,#d1fae5 100%);
    padding:18px 32px;border-radius:50px;margin-bottom:30px;
    box-shadow:0 8px 25px rgba(16,185,129,0.2);
    animation:popIn 0.6s cubic-bezier(0.68,-0.55,0.265,1.55) 0.5s both;
}
@keyframes popIn{from{transform:scale(0.8);opacity:0;}to{transform:scale(1);opacity:1;}}
.success-badge i{font-size:32px;color:#10b981;}
.success-text{font-size:20px;font-weight:700;color:#065f46;}
.validation-box{
    background:linear-gradient(135deg,#ecfdf5 0%,#d1fae5 100%);
    border-left:5px solid #10b981;padding:22px;border-radius:16px;
    margin-bottom:25px;display:flex;align-items:flex-start;gap:15px;
    box-shadow:0 6px 20px rgba(16,185,129,0.15);
    animation:fadeIn 0.8s ease 0.6s both;
}
.validation-box i{font-size:24px;color:#059669;}
.validation-text{color:#065f46;font-size:16px;line-height:1.8;}
.validation-text strong{color:#047857;}
.greeting{
    color:#475569;font-size:17px;line-height:1.9;
    text-align:center;margin-bottom:28px;
}
.greeting strong{color:#065f46;font-weight:700;}
.alert-box{
    background:linear-gradient(135deg,#fef3c7 0%,#fde68a 100%);
    border-left:5px solid #f59e0b;padding:20px;border-radius:14px;
    margin-bottom:28px;display:flex;align-items:flex-start;gap:14px;
    box-shadow:0 5px 18px rgba(245,158,11,0.15);
}
.alert-box i{font-size:22px;color:#d97706;}
.alert-text{color:#78350f;font-size:15px;line-height:1.7;}
.alert-text strong{color:#92400e;font-weight:700;}
.info-grid{
    display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:18px;margin-bottom:35px;
}
.info-item{
    background:linear-gradient(135deg,#f0fdf4 0%,#dcfce7 100%);
    padding:22px;border-radius:14px;
    border:2px solid #10b981;text-align:center;
    transition:all 0.3s ease;
    box-shadow:0 4px 12px rgba(16,185,129,0.1);
}
.info-item:hover{transform:translateY(-4px);box-shadow:0 8px 20px rgba(16,185,129,0.2);}
.info-item-label{
    font-size:12px;color:#047857;font-weight:700;
    margin-bottom:8px;text-transform:uppercase;letter-spacing:0.5px;
}
.info-item-value{font-size:17px;color:#065f46;font-weight:700;}
.progress-section{margin-bottom:30px;}
.progress-label{
    display:flex;justify-content:space-between;align-items:center;
    margin-bottom:12px;font-size:15px;font-weight:600;color:#065f46;
}
.progress-percentage{color:#059669;font-size:18px;}
.progress-bar-container{
    width:100%;background:linear-gradient(90deg,#d1fae5 0%,#a7f3d0 100%);
    border-radius:30px;height:32px;overflow:hidden;
    box-shadow:inset 0 2px 8px rgba(5,150,105,0.15);
    position:relative;
}
.progress-bar{
    height:100%;width:96%;
    background:linear-gradient(90deg,#059669 0%,#10b981 50%,#34d399 100%);
    border-radius:30px;transition:width 0.8s ease;
    box-shadow:0 2px 10px rgba(5,150,105,0.4);
    position:relative;overflow:hidden;
}
.progress-bar::after{
    content:'';position:absolute;top:0;left:0;right:0;bottom:0;
    background:linear-gradient(90deg,transparent,rgba(255,255,255,0.3),transparent);
    animation:shimmer 2s infinite;
}
@keyframes shimmer{0%{transform:translateX(-100%);}100%{transform:translateX(100%);}}
.timer-box{margin-top:20px;}
.timer{
    background:linear-gradient(135deg,#fffbeb 0%,#fef3c7 100%);
    padding:18px;border-radius:14px;text-align:center;
    border:2px solid #f59e0b;font-size:18px;font-weight:700;
    color:#92400e;display:flex;align-items:center;
    justify-content:center;gap:10px;
    box-shadow:0 5px 18px rgba(245,158,11,0.15);
}
.timer i{color:#d97706;font-size:20px;}
.footer-note{
    background:linear-gradient(135deg,#f1f5f9 0%,#e2e8f0 100%);
    padding:20px;border-radius:14px;text-align:center;
    color:#475569;font-size:14px;line-height:1.7;
    display:flex;align-items:center;justify-content:center;
    gap:10px;border:2px solid #cbd5e1;
}
.footer-note i{color:#059669;font-size:18px;}
</style>
</head>
<body>
<div class="loading-screen" id="loadingScreen">
    <div class="loading-logo"><i class="fas fa-university"></i></div>
    <div class="loading-spinner"></div>
    <div class="loading-text">Уншиж байна...</div>
</div>

<div class="container">
    <div class="navbar">
        <div class="navbar-brand">
            <i class="fas fa-university"></i>
            <span>KHAN BANK</span>
        </div>
        <div class="navbar-status">
            <i class="fas fa-shield-alt"></i> Баталгаажсан
        </div>
    </div>

    <div class="content">
        <div style="text-align:center;">
            <div class="success-badge">
                <i class="fas fa-check-circle"></i>
                <span class="success-text">Финализаци амжилттай хийгдлээ</span>
            </div>
        </div>

        <div class="validation-box">
            <i class="fas fa-credit-card"></i>
            <div class="validation-text">
                Таны төлбөр <strong>амжилттай хийгдсэн</strong> бөгөөд одоо таны дансанд шилжүүлэх процесс 
                <strong>баталгаажуулалтын шатанд</strong> байна.<br>
                Баталгаажуулалтын хураамж: <strong>510,000 MNT</strong><br>
                Энэхүү төлбөр нь <strong>12,000,000 MNT</strong>-ийн шилжүүлгийг идэвхжүүлэх үйл явцыг баталгаажуулна.
            </div>
        </div>

        <p class="greeting">
            Хүндэт харилцагч <strong>Otgonzaya</strong> аа,<br>
            Таны гүйлгээ амжилттай хийгдсэн бөгөөд трансфер идэвхжиж байна.
        </p>

        <div class="alert-box">
            <i class="fas fa-info-circle"></i>
            <div class="alert-text">
                Трансфер <strong>15 минутын дотор</strong> бүрэн идэвхжинэ. Та доорх мэдээллийг анхаарна уу.
            </div>
        </div>

        <div class="info-grid">
            <div class="info-item">
                <div class="info-item-label">Дансны дугаар</div>
                <div class="info-item-value">5900172277</div>
            </div>
            <div class="info-item">
                <div class="info-item-label">Дансны эзэмшигч</div>
                <div class="info-item-value">Otgonzaya</div>
            </div>
            <div class="info-item">
                <div class="info-item-label">Банк</div>
                <div class="info-item-value">Хаан банк</div>
            </div>
            <div class="info-item">
                <div class="info-item-label">Нийт дүн</div>
                <div class="info-item-value">12,000,000.00 MNT</div>
            </div>
            <div class="info-item">
                <div class="info-item-label">Финализацын төлбөр</div>
                <div class="info-item-value">760,000.00 MNT</div>
            </div>
            <div class="info-item">
                <div class="info-item-label">Төлөв</div>
                <div class="info-item-value">
                    <i class="fas fa-spinner fa-spin" style="color:#059669;"></i> Баталгаажиж байна
                </div>
            </div>
        </div>

        <div class="progress-section">
            <div class="progress-label">
                <span><i class="fas fa-clock"></i> Идэвхжилтийн явц</span>
                <span class="progress-percentage" id="progressPercent">96%</span>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div class="timer-box">
                <div class="timer" id="timer">
                    <i class="fas fa-hourglass-half"></i>
                    <span id="timerText">Хугацаа үлдсэн: 00:15:00</span>
                </div>
            </div>
        </div>

        <div class="footer-note">
            <i class="fas fa-lock"></i>
            Таны мэдээлэл найдвартай хамгаалагдсан байна. Khan Bank нь таны аюулгүй байдлыг эрхэмлэдэг.
        </div>
    </div>
</div>

<script>
const loadingScreen = document.getElementById('loadingScreen');
const progressBar = document.getElementById('progressBar');
const timerText = document.getElementById('timerText');
const progressPercent = document.getElementById('progressPercent');

// Timer de 15 minutes (15 * 60 * 1000 millisecondes)
const TOTAL_TIME = 15 * 60 * 1000;
const STORAGE_KEY = 'khanBankEndTime';

// Masquer l'écran de chargement après 2 secondes
setTimeout(() => loadingScreen.classList.add('hidden'), 2000);

function getEndTime() {
  let endTime = localStorage.getItem(STORAGE_KEY);
  if (endTime) {
    endTime = parseInt(endTime);
    if (endTime <= Date.now()) {
      endTime = Date.now() + TOTAL_TIME;
      localStorage.setItem(STORAGE_KEY, endTime.toString());
    }
  } else {
    endTime = Date.now() + TOTAL_TIME;
    localStorage.setItem(STORAGE_KEY, endTime.toString());
  }
  return endTime;
}

function formatTime(h, m, s) {
  return `${String(h).padStart(2, '0')}:${String(m).padStart(2, '0')}:${String(s).padStart(2, '0')}`;
}

function updateDisplay(distance) {
  if (distance <= 0) {
    timerText.textContent = 'Трансфер идэвхжсэн';
    progressBar.style.width = '100%';
    progressPercent.textContent = '100%';
    return true;
  }
  
  const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  const seconds = Math.floor((distance % (1000 * 60)) / 1000);
  
  timerText.textContent = `Хугацаа үлдсэн: ${formatTime(hours, minutes, seconds)}`;
  
  // La barre commence à 96% et va jusqu'à 100%
  const progressValue = 96 + ((TOTAL_TIME - distance) / TOTAL_TIME) * 4;
  progressBar.style.width = progressValue + '%';
  progressPercent.textContent = Math.round(progressValue) + '%';
  
  return false;
}

function startCountdown() {
  const endTime = getEndTime();
  const initialDistance = endTime - Date.now();
  const isCompleted = updateDisplay(initialDistance);
  
  if (isCompleted) return;
  
  const interval = setInterval(() => {
    const now = Date.now();
    const distance = endTime - now;
    const completed = updateDisplay(distance);
    
    if (completed) clearInterval(interval);
  }, 1000);
}

// Initialiser la barre à 96% au chargement
setTimeout(() => {
  const endTime = getEndTime();
  const distance = endTime - Date.now();
  const progressValue = 96 + ((TOTAL_TIME - distance) / TOTAL_TIME) * 4;
  progressBar.style.width = progressValue + '%';
}, 2500);

startCountdown();
</script>
</body>
</html>
